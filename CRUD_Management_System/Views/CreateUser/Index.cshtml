@model CRUD_Management_System.Models.UserDetailsModel

@{
    // Controleren of er een foutmelding in TempData staat
    if (TempData["ErrorMessage"] != null)
    {
        <div class="alert alert-danger">
            @TempData["ErrorMessage"]
        </div>
    }

    // Stel de titel van de pagina in via ViewData
    ViewData["Title"] = "Nieuwe Gebruiker Maken";
}

<h2>Nieuwe Gebruiker Maken</h2>

<form asp-action="CreateUser" method="post">
    <div class="mb-3">
        <label class="form-label">Alias</label>
        <input type="text" class="form-control" asp-for="Alias" id="Alias" readonly/>
    </div>

    <div class="mb-3">
        <label class="form-label">Naam</label>
        <input type="text" class="form-control" asp-for="Name" id="Name" oninput="generateAlias()" required />
    </div>

    <div class="mb-3">
        <label class="form-label">Achternaam</label>
        <input type="text" class="form-control" asp-for="Surname" id="Surname" oninput="generateAlias()" required />
    </div>

    <div class="mb-3">
        <label class="form-label">Adres</label>
        <input type="text" class="form-control" asp-for="Address" />
    </div>

    <div class="mb-3">
        <label class="form-label">Postcode</label>
        <input type="text" class="form-control" asp-for="ZIP" />
    </div>

    <div class="mb-3">
        <label class="form-label">Stad</label>
        <input type="text" class="form-control" asp-for="City" />
    </div>

    <div class="mb-3">
        <label class="form-label">E-mail</label>
        <input type="email" class="form-control" asp-for="Email" required />
    </div>

    <div class="mb-3">
        <label class="form-label">Telefoonnummer</label>
        <input type="text" class="form-control" asp-for="Phonenumber" />
    </div>

    <div class="mb-3">
        <label class="form-label">Online Status</label>
        <input type="checkbox" asp-for="Online" />
    </div>

    <div class="mb-3">
        <label class="form-label">Afwezig door ziekte</label>
        <input type="checkbox" asp-for="Sick" />
    </div>

    <button type="submit" class="btn btn-success">Opslaan</button>
    <a asp-controller="DashboardAdmin" asp-action="Index" class="btn btn-secondary">Annuleren</a>
</form>

<script>
    // Genereer de server-side URL en sla deze op in een JavaScript-variabele
    var generateAliasUrl = '@Url.Action("GenerateAlias", "CreateUser")';
    console.log(generateAliasUrl);  // Dit zou de juiste URL moeten tonen
</script>

<!-- Laad het externe JavaScript-bestand na het doorgeven van de URL -->
<script src="~/js/generateAlias.js"></script>

